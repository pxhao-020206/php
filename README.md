# PHP 学习笔记

## 全局变量
在函数内部调用全局变量时，需要使用 `global` 关键字：
```php
global $变量名;
```

## 静态作用域
假设函数 `a` 内部定义 `$x = 0;`，如果执行三次 `a` 函数，则返回三次 `0`；如果加上 `static`，则返回 `0`、`1`、`2`。  
**静态**：继承最后一次执行函数后函数内变量的值。

## 定义常量
有两种方式定义常量：
1. 使用 `define`
   ```php
   define("fruits", ["a", "b", "c"]);
   ```
2. 使用 `const`
   ```php
   const fruits = ["a", "b", "c"];
   ```

## 连接运算符
使用 `.` 运算符可以直接在多个变量之间进行连接：
```php
$全局变量 . $局部变量;
```

## 输出变量
`var_dump()` 与 `echo` 的不同：
- `echo` 返回变量的值；
- `var_dump()` 返回变量的数据类型和变量值。

## 比较运算符
- `==` 和 `===`：
  - 前者是值的判断；
  - 后者在前者基础上加上对数据类型的判断。

## 字符串操作
### 获取字符串长度
使用 `strlen()` 获得字符串值长度：
```php
echo $a; // 打印字符串
echo strlen($a); // 打印字符串长度
```

### 查找
- `strpos()` 用于字符串中查找一个字符或指定文本：
  - **匹配**：返回查找内容中第一个字符在字符串中的位置；
  - **不匹配**：返回 `FALSE`。

## 运算符
- `%`：取余数；
- `~`：二进制数取反；
- `intdiv(a, b)`：计算 `a / b` 然后向下取整。

## 逻辑运算
- 与、或、非、异或：
  - 或 `：至少一个为真`
  - 异或 `：有且仅有一个为真`

## 三元运算符
```php
(a) ? (b) : (c);
```
- 如果 `a` 为 `true`，则值为 `b`；如果 `a` 为 `false`，则值为 `c`。

## 组合比较符
```php
$c = $a <=> $b;
```
- 如果 `$a > $b`，则 `$c` 的值为 `1`。
- 如果 `$a == $b`，则 `$c` 的值为 `0`。
- 如果 `$a < $b`，则 `$c` 的值为 `-1`。

## 条件语句
- `if...else`
- `if...elseif...else`
- `switch`：注意 `case` 和 `break` 的使用。
  - `case` 后面接变量可能的值；
  - 使用 `break` 可以避免代码跳入下一个 `case` 中。

## 数组
获取数组长度: `count();`
关联数组：`$a= array("x"=>"1","y"=>"2");` 定义之后可以直接用 `$a["x"]` 获取值；
遍历关联数组用 `foreach($a as $key => $value);`
数组排序:
- `sort();` // 升序
- `rsort();` // 降序
- `asort();` // 按值升序
- `ksort();` // 按键升序
进行排序后值的键也会相应变化。

## 超级全局变量
- `$GLOBALS` 在函数内部使用该方法得到的新变量可以被函数外访问；
- `$_SERVER` 包含了诸如头部信息、路径、查询字符串、请求方法等信息；
- `$_REQUEST` 收集在表单中提交的数据；
- `$_POST` 收集表单数据，需要在HTML form标签指定 `method="post"`；
- `$_GET` 收集表单数据，需要在HTML form标签指定 `method="get"`。
### 三者区别：
- `$_REQUEST` 方便快捷，但得注意数据来源；
- `$_GET` 处理少量的公开数据；
- `$_POST` 处理需要保护的数据；

## 变量函数*
   本质是在定义多个函数时，通过外部定义的变量值选择执行哪一个函数；
```php
function a (){
   echo "this is a";
}
function b($x){
   echo "this is b.'$x'. is the value of it."
}
//定义2个函数

$c = 'a'; //外部定义变量c，此时变量值为a
$c(); //执行a函数

$c = 'b'; //外部定义变量c，此时变量值为b
$c = ('x'); //执行b函数，参数为x
```

## 构造函数
`void __conmstruct()`，具体使用方法：
```php
function __construct(par1,par2){
   $this ->url=par1;
   $this ->title=par2;
}
```
这段代码等同于：
```php
function seturl(par1){
   $this ->url=par1;
}
function settitle(par2){
   $this ->title=par2;
}
```
####继承
- extends  ;  class children extends parent
##### 调用父类构造
子类继承其父类后，想要调用其父类构造，可以使用 `parent::__construct()`;
####访问控制
- public : 公开的，公有的类成员可以在任何地方被访问；
- protect : 受保护的，类成员只能在其父类、子类中被访问；
- private : 私有的，只能在当前类中被访问；

## 魔术常量
- `_LINE_` 获取当前行
- `_FILE_ ` 完整路径和文件名
- `_DIR_` 等于dirname(_FILE_),获取路径
- `_FUNCTION_` 返回函数名
- `_CALSS_` 返回类名
- `_TRAIT`* 需要创建‘特质（trait）’ 然后使用这个常量返回特质名，注意特质需要被 类 引用
- `_METHOD_` 返回方法名
- `_NAMESPACE_` 返回当前命名空间名

## 命名空间
定义命名空间： namespace '命名空间的名'
一个文件存在多命名空间时，每个命名空间中的内容要用{}框起来
出现在命名空间前的代码只能是用于定义源文件编码方式的 declare 语句
子命名空间： `namespace parent\son `
命名空间的引用：`use `;别名 `use...as...` [ 用于引用同一命名空间下的不同类 ]
不同文件的类引用要先在use前使用`require'target.php'`;

> 学到这里，脑子里有些定义混淆了，单独梳理一下：
> Q：怎么理解 **类，对象，函数，参数**？
> A：先假设三个内容：'animal','dog','cat'。 动物即是一个**类**，而猫和狗都属于这个**类**中，是其中的两个**对象**；如果要在类中实例化新对象（rat），则使用方法：`$rat = new animal`；**函数**用来实现某个功能，**参数**存在于函数中，函数返回的内容根据参数的变化而相应变化；

##接口
`interface` 关键字 [ 用法和继承 extends 差不多 ]、impiements 操作符
> 类中必须实现接口定义的**所有**方法，类可以实现多个接口 ","分隔；

## Static 关键字
声明类属性或方法为 static(静态)，就可以不实例化类而直接访问；
## Final 关键字
如果父类的某个方法使用了Final，则不可再被其子类覆写；
